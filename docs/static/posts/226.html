<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ворчливый IT-дед — пост #226</title>
  <meta name="description" content=" Подарок на новый год    Не знаю, что Дедушка Мороз принес под елку вам, но я своему подарку подивился знатно. А получил я фикс ранее зарепорченного бага в опенсорсной либе (видимо, хорошо себя вел). " />
  <link rel="icon" href="../../favicon.ico" sizes="any" />
  <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32.png" />
  <link rel="apple-touch-icon" href="../../apple-touch-icon.png" />

  <link rel="canonical" href="https://tg-vit-ded.github.io/tg-to-gh-pages/static/posts/226.html" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Ворчливый IT-дед — пост #226" />
  <meta property="og:description" content=" Подарок на новый год    Не знаю, что Дедушка Мороз принес под елку вам, но я своему подарку подивился знатно. А получил я фикс ранее зарепорченного бага в опенсорсной либе (видимо, хорошо себя вел). " />
  <meta property="og:image" content="https://tg-vit-ded.github.io/tg-to-gh-pages/assets/media/thumbs/226_480.webp" />
  <meta property="og:image:alt" content="Ворчливый IT-дед" />
  <meta property="article:published_time" content="2026-01-15T07:07:48+00:00" />
  <meta property="article:author" content="Ворчливый IT-дед" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://tg-vit-ded.github.io/tg-to-gh-pages/assets/media/thumbs/226_480.webp" />
  <link rel="stylesheet" href="../../style.css" />
  <script src="../../metrika.js"></script>
</head>
<body data-index-href="../index.html">
  <header class="header">
    <div class="container">
      <div class="title-grid single-title">
        <a class="grid-avatar" href="#" target="_blank" rel="noopener">
          <img id="channelAvatar" class="channel-avatar" src="../../assets/channel_avatar.jpg" alt="Аватар канала"  />
        </a>
        <div class="grid-main">
          <div class="title-head">
            <a class="back-link" href="../index.html">← Ко всем постам</a>
            <a class="badge-chip" id="siteTitleWrap" href="#" target="_blank" rel="noopener"><h1 id="siteTitle">Ворчливый IT-дед</h1></a>
            <div class="hero-actions">
              <a id="subscribeBtn" class="subscribe-btn" href="https://t.me/vit_ded" target="_blank" rel="noopener" >Подписаться</a>
              <a class="icon-btn" href="../../post.html?id=226" aria-label="Открыть динамическую страницу поста">↺</a>
              <button id="themeToggle" class="icon-btn" type="button" aria-label="Переключить тему"></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  

  <main class="container single-page">
    <article id="postContainer" class="post post-page" data-post-id="226">
      <div class="post-header">
        <div class="right"><span class="post-date" data-iso-date="2026-01-15T07:07:48+00:00">2026-01-15 07:07 UTC</span></div>
      </div>
      <div class="post-body"><strong>Подарок на новый год</strong> <br><br>Не знаю, что Дедушка Мороз принес под елку вам, но я своему подарку подивился знатно. А получил я фикс ранее зарепорченного бага в опенсорсной либе (видимо, хорошо себя вел). Это было совсем не то письмо, которое я ожидал увидеть в почте на праздниках. Даже сначала подумал, что это какой-то спам. Потому что ждал я этого ... <strong>14 лет</strong>!<br><br>Летом 2012 года, когда я работал бекенд-разработчиком в Яндекс Почте, делал я одну тасочку про отображение приаттаченных картинок в веб-интерфейсе почты. Я даже нашел тикет в jira <em>(да-да, тогда еще jira, сейчас он смигрирован в трекер)</em>  - WMI-303 <em>(WMI == Web Mail Interface)</em>. Задача звучала так: &quot;Разворачивать картинки согласно EXIF&quot;. И при решении этой задачи мне нужно было перезаписать данные об ориентации изображения, чтобы уже повернутая картинка имела &quot;нормальную&quot; ориентацию при скачивании из браузера.<br><br>Однако, при разработке я столкнулся с багом в библиотеке GraphicsMagick, которую я использовал для работы с жпегами - судя по моему комментарию к тикету, там &quot;расходятся сишная реализация библиотеки и плюсовый интерфейс&quot;. Ну мы не гордые, мы поправим. Пара строк с приведением типов между C и C++ и полсотни строк с магией битовых масок и оффсетов. Я отправил фикс в опен-сорс, но его реджектнули (почему - уже не вспомню, а в тикет не написал). Поэтому я локально запатчил GraphicsMagick, админы его пересобрали и разложили, проблема ушла. Но ишью все же завел.<br><br>И вот, спустя почти 14 лет, мейнтейнер либы сообщает, что проблема исправлена! Некоторую нерасторопность он объясняет тем, что, мол, тяжело менять код, от которого ожидают, что он будет работать как раньше. Понимаю. Но лучше поздно, чем никогда. Или нет?<br><br><em>P.S. Если меня читает кто-то из Яндекс Почты - осторожней обновляйте GraphicsMagick, может что-то отвалиться на вебаттачах.</em><div class="media"><img class="media-img" loading="lazy" src="../../assets/media/thumbs/226_480.webp" srcset="../../assets/media/thumbs/226_480.webp 480w, ../../assets/media/226.jpg 1200w" sizes="(max-width: 768px) 100vw, 800px" alt="" data-post-id="226" data-image-index="0" /></div></div>
      <div class="actions">
        <span>716 просмотров · 27 реакций</span>
        <span class="action-links"><a href="https://t.me/vit_ded/226" target="_blank" rel="noopener">Открыть в Telegram</a> · <a href="../index.html">К списку постов</a> · <a href="./226.html">Ссылка на этот пост</a></span>
      </div>
    </article>

    <div class="pager single-nav">
      <a id="prevPost" class="nav-link" href="./227.html" style="visibility:visible">← Более новый</a>
      <a id="nextPost" class="nav-link" href="./225.html" style="visibility:visible">Более старый →</a>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-inner">
        <span>based on <a href="https://github.com/ml-brand/tg-to-gh-pages" target="_blank" rel="noopener">tg-to-gh-pages</a> (created by <a href="https://github.com/ml-brand" target="_blank" rel="noopener">ML Brand</a>)</span>
        <a id="repoLink" href="https://github.com/ml-brand/tg-to-gh-pages" target="_blank" rel="noopener">Do the same with your channel.</a>
        <span class="footer-links">
          static copy ·
          <a href="../../feed.xml" target="_blank" rel="noopener">RSS</a> ·
          <a href="../../atom.xml" target="_blank" rel="noopener">Atom</a>
        </span>
      </div>
    </div>
  </footer>

  <script>
    window.__STATIC_POSTS = [{"id": 226, "media": [{"kind": "photo", "path": "../../assets/media/226.jpg", "thumb": "../../assets/media/thumbs/226_480.webp", "size": 11315, "mime": "image/jpeg", "name": null}]}];
    window.__STATIC_META = {"title": "Ворчливый IT-дед", "username": "vit_ded", "channel": "vit_ded", "last_sync_utc": "2026-02-22T23:45:39Z", "posts_count": 167, "last_seen_message_id": 286, "stats": {"new": 101, "updated": 9, "media_downloaded": 101}, "avatar": "assets/channel_avatar.jpg", "meta_schema_version": "1.0.0", "posts_schema_version": "1.0.0"};
  </script>
  <script src="../../common.js"></script>
  <script src="../../static.js"></script>
</body>
</html>
